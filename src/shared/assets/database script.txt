-- criacao do meu banco de dados

create table company (
	id serial primary key,
	social_name varchar(80) not null,
	active bool
);

create table account (
    id serial not null primary key,
    username varchar(20) not null,
    password text not null,
    active boolean,
    fk_company integer references company(id),
    unique(username)
);

create table customer (
    id serial not null primary key,
    fk_company integer references company(id),
    name varchar(70) not null,
    cellphone varchar(13),
    email varchar(200)    
);

alter table customer alter column fk_company set not null;

create table schedule (
	id serial primary key,
	fk_account integer references account(id),
	fk_customer integer references customer(id),
	schedule_date timestamp
);

create table service (
    id serial primary key,
    description varchar(80) not null,
    duration time,
    active boolean
);

create table schedule_service (
    id serial primary key,
    fk_service integer references service(id) not null,
    duration time
);